<div class="container mt-4">
  <div *ngIf="desserts.length > 0; else loadingTemplate">
    <div *ngFor="let dessert of desserts" class="row mb-5">
      <div class="col-12 col-md-8">
        <div class="card">
          <div class="card-block">
            <h2>{{dessert.name}}</h2>
            <img class="dessert-image" [src]="dessert.image" [alt]="dessert.name">

            <div class="rating-section">
              <h4>
                <strong>Rating: {{dessert.ratingText}} ({{dessert.reviewCount}} reviews)</strong>
              </h4>
              <div>
                <i *ngFor="let star of getStars(dessert.rating); let i = index" class="fa fa-star text-warning"></i>
                <i *ngFor="let star of getEmptyStars(dessert.rating); let j = index" class="fa fa-star-o text-warning"></i>
              </div>
            </div>

            <h3>Ingredients</h3>
            <ul>
              <li *ngFor="let item of dessert.ingredients">
                <strong>{{item.name}}:</strong> {{item.description}}
              </li>
            </ul>

            <h3>Preparation Steps</h3>
            <ol>
              <li *ngFor="let step of dessert.steps">{{step}}</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="col-12 col-md-4">
        <h2>Description</h2>
        <p class="lead">{{dessert.description}}</p>
      </div>
    </div>
  </div>

  <ng-template #loadingTemplate>
    <div class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-2">Loading delicious desserts...</p>
    </div>
  </ng-template>
</div>