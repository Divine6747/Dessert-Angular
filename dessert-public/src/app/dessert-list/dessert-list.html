<div class="container mt-4">
    @if (desserts.length > 0) {
        @for (dessert of desserts; track dessert._id) {
            <div class="row mb-5">
                <div class="col-12 col-md-8">
                    <div class="card">
                        <div class="card-block">
                            <h2>{{dessert.name}}</h2>
                            <img class="dessert-image" [src]="dessert.image" [alt]="dessert.name">

                            <div class="rating-section">
                                <h4>
                                    <strong>Rating: {{dessert.ratingText}} ({{dessert.reviewCount}} reviews)</strong>
                                </h4>
                               <div>
                                @for (star of getStars(dessert.rating); track $index) {
                                  <i class="fas fa-star text-warning"></i>      <!-- or fa-solid -->
                                }
                                @for (star of getEmptyStars(dessert.rating); track $index) {
                                  <i class="far fa-star text-warning"></i>      <!-- or fa-regular -->
                                }
                              </div>
                            </div>
                            <h3>Ingredients</h3>
                            <ul>
                                @for (item of dessert.ingredients; track item._id) {
                                    <li>
                                        <strong>{{item.name}}:</strong> {{item.description}}
                                    </li>
                                }
                            </ul>

                            <h3>Preparation Steps</h3>
                            <ol>
                                @for (step of dessert.steps; track step) {
                                    <li>{{step}}</li>
                                }
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-md-4">
                    <h2>Description</h2>
                    <p class="lead">{{dessert.description}}</p>
                </div>
            </div>
        }
    } @else {
        <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-2">Loading delicious desserts...</p>
        </div>
    }
</div>